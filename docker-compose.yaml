version: "3"
services:
  # src: https://registry.hub.docker.com/_/caddy
  caddy:
    image: caddy
    ports:
      - 80:80
      - 443:443
    volumes:
      - $PWD/Caddyfile:/etc/caddy/Caddyfile

  # docs: https://jellyfin.org/docs/general/administration/installing.html#docker
  # src: https://hub.docker.com/r/jellyfin/jellyfin
  jellyfin__main:
    image: jellyfin/jellyfin
    volumes:
      - $PWD/data/jellyfin/config:/config
      - $PWD/data/jellyfin/cache:/cache
    labels:
      hs__pod: jellyfin
